<!DOCTYPE html>
<html>
<head>
  <title>Campusphere | Attendance Reports</title>
  <style>
    body{margin:0;font-family:Arial;background:#f4f7fb}
    header{
      background:#1e40af;
      color:#fff;
      padding:16px 30px
    }
    .container{padding:40px;max-width:1100px;margin:auto}
    .cards{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:25px
    }
    .card{
      background:#fff;
      padding:25px;
      border-radius:14px;
      box-shadow:0 10px 25px rgba(0,0,0,.1)
    }
    h3{color:#1e40af;margin:0 0 10px}
    .big{font-size:32px;font-weight:bold}
    p{color:#555;font-size:14px}

    table{
      width:100%;
      margin-top:30px;
      border-collapse:collapse;
      background:#fff;
      border-radius:14px;
      overflow:hidden;
      box-shadow:0 10px 25px rgba(0,0,0,.08)
    }
    th,td{
      padding:14px;
      border-bottom:1px solid #eee;
      text-align:left
    }
    th{
      background:#e0e7ff;
      color:#1e40af
    }
    .good{color:#16a34a;font-weight:bold}
    .avg{color:#ca8a04;font-weight:bold}
    .low{color:#dc2626;font-weight:bold}

    a{color:#2563eb;text-decoration:none}
  </style>
</head>
<body>

<header>
  <h2>Campusphere – Attendance Reports</h2>
</header>

<div class="container">

  <!-- SUMMARY CARDS -->
  <div class="cards">

    <div class="card">
      <h3>Total Students</h3>
      <div class="big" id="totalStudents">0</div>
      <p>Across all departments</p>
    </div>

    <div class="card">
      <h3>Average Attendance</h3>
      <div class="big" id="avgAttendance">0%</div>
      <p>Overall</p>
    </div>

    <div class="card">
      <h3>Low Attendance</h3>
      <div class="big" id="lowCount">0</div>
      <p>Below 75%</p>
    </div>

  </div>

  <!-- DEPARTMENT WISE ATTENDANCE -->
  <table>
    <thead>
      <tr>
        <th>Department</th>
        <th>Total Students</th>
        <th>Average Attendance</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="attTable"></tbody>
  </table>

  <br>
  <a href="admin-dashboard.html">← Back to Dashboard</a>

</div>

<script>
/* PROFESSIONAL SAMPLE DATA (NO DATABASE NEEDED) */
const attendanceData = [
  {dept:"AIDS", students:120, avg:82},
  {dept:"CSE", students:240, avg:78},
  {dept:"CSD", students:90, avg:85},
  {dept:"AIML", students:110, avg:74},
  {dept:"EEE", students:130, avg:71},
  {dept:"MECH", students:160, avg:76},
  {dept:"CIVIL", students:100, avg:80},
  {dept:"IT", students:95, avg:88}
];

let totalStudents=0, totalAtt=0, low=0, rows="";

attendanceData.forEach(d=>{
  totalStudents += d.students;
  totalAtt += d.avg * d.students;

  let status="", cls="";
  if(d.avg >= 80){status="Good"; cls="good";}
  else if(d.avg >= 75){status="Average"; cls="avg";}
  else{status="Low"; cls="low"; low++;}

  rows += `
    <tr>
      <td>${d.dept}</td>
      <td>${d.students}</td>
      <td>${d.avg}%</td>
      <td class="${cls}">${status}</td>
    </tr>`;
});

document.getElementById("totalStudents").innerText = totalStudents;
document.getElementById("avgAttendance").innerText =
  Math.round(totalAtt / totalStudents) + "%";
document.getElementById("lowCount").innerText = low;
document.getElementById("attTable").innerHTML = rows;
</script>

</body>
</html>
